.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:var(--touch-target);padding:0 1rem;border-radius:var(--radius-pill);border:1px solid var(--border);background:var(--surface);color:var(--text-strong);font-weight:600;transition:transform .18s ease,box-shadow .18s ease;}
.btn:active{transform:scale(.97);}
.btn.primary{background:linear-gradient(135deg,var(--brand-500),var(--brand-700));color:#fff;border:none;box-shadow:var(--shadow-elevated);}
.btn.ghost{background:transparent;border-color:rgba(107,114,128,.3);color:var(--text);}
.btn.icon{width:var(--touch-target);padding:0;}
.btn.inline{border-radius:var(--radius-sm);padding:.35rem .75rem;font-weight:500;}
.app-header{display:flex;align-items:center;gap:.5rem;}
.city-btn{min-width:110px;justify-content:flex-start;padding:0 .75rem;font-weight:600;}
.city-btn .icon{color:var(--brand-700);}
.search-field{flex:1;background:rgba(255,255,255,.9);border:1px solid rgba(148,163,184,.35);}
.search-field input{font-size:var(--font-size-sm);}
.cart-wrapper{position:relative;}
.cart-wrapper .badge{position:absolute;top:-6px;right:-6px;}
.icon{width:22px;height:22px;color:inherit;flex-shrink:0;}
.icon.sm{width:16px;height:16px;}
.icon.lg{width:28px;height:28px;}
.field{display:flex;align-items:center;width:100%;min-height:var(--touch-target);padding:0 .9rem;border-radius:var(--radius-pill);border:1px solid rgba(15,23,42,.08);background:var(--surface);gap:.75rem;box-shadow:inset 0 1px 0 #fff;}
.field input{border:0;outline:0;width:100%;background:transparent;}
.field input::placeholder{color:rgba(107,114,128,.8);}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-sm);box-shadow:0 2px 8px var(--shadow-color);overflow:hidden;}
.card.flat{box-shadow:none;}
.card.section{padding:var(--space-4);}
.card.section+.card.section{margin-top:var(--space-3);}
.card-title{display:flex;align-items:center;justify-content:space-between;font-weight:600;margin-bottom:.5rem;}
.banner{position:relative;border-radius:var(--radius-md);padding:var(--space-5);color:#fff;background:radial-gradient(120% 140% at 20% 20%,#5de197 0%,var(--brand-700) 68%);overflow:hidden;}
.banner strong{font-size:var(--font-size-xl);}
.banner small{display:block;opacity:.9;margin-top:.25rem;}
.banner .cta{margin-top:var(--space-3);}
.cat-strip{display:flex;gap:.5rem;overflow-x:auto;padding-bottom:.25rem;}
.cat-pill{flex:0 0 auto;padding:.35rem .9rem;border-radius:var(--radius-pill);border:1px solid rgba(148,163,184,.55);background:rgba(255,255,255,.92);font-size:var(--font-size-sm);white-space:nowrap;}
.cat-pill[aria-pressed="true"]{background:rgba(67,205,128,.12);border-color:var(--brand-600);color:var(--brand-700);}
.bottom-tabbar{position:fixed;inset:auto 0 0;height:var(--tabbar-height);padding:0 env(safe-area-inset-right,0) calc(var(--safe-area-inset-bottom)+0px);display:grid;grid-template-columns:repeat(5,1fr);background:rgba(246,249,247,.92);backdrop-filter:blur(12px);border-top:1px solid rgba(148,163,184,.35);z-index:var(--z-header);}
.tabbar-btn{position:relative;display:grid;place-items:center;gap:.25rem;color:var(--muted);border:none;background:none;padding:0;}
.tabbar-btn span{font-size:var(--font-size-xs);font-weight:500;}
.tabbar-btn[aria-current="page"]{color:var(--brand-700);}
.fab{position:fixed;left:50%;bottom:calc(var(--tabbar-height)+var(--fab-gap)+var(--safe-area-inset-bottom));transform:translateX(-50%);display:grid;place-items:center;width:var(--fab-size);height:var(--fab-size);border-radius:50%;border:none;background:linear-gradient(145deg,var(--brand-400),var(--brand-700));color:#fff;box-shadow:0 18px 32px rgba(34,179,122,.32);z-index:var(--z-fab);}
.fab-label{position:fixed;left:50%;bottom:calc(var(--tabbar-height)+var(--fab-size)+var(--fab-gap)+8px+var(--safe-area-inset-bottom));transform:translateX(-50%);background:#111;color:#fff;padding:.35rem .65rem;border-radius:var(--radius-sm);font-size:var(--font-size-xs);opacity:0;pointer-events:none;transition:opacity .2s ease;}
.fab:focus-visible+.fab-label,.fab:hover+.fab-label{opacity:1;}
.badge{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 .35rem;border-radius:var(--radius-pill);background:var(--brand-700);color:#fff;font-size:.7rem;font-weight:600;}
.badge.soft{background:rgba(67,205,128,.18);color:var(--brand-700);}
.toast{position:fixed;left:50%;bottom:calc(var(--tabbar-height)+var(--safe-area-inset-bottom)+18px);transform:translateX(-50%);background:rgba(17,24,39,.92);color:#fff;padding:.65rem 1rem;border-radius:var(--radius-pill);box-shadow:0 16px 40px rgba(0,0,0,.25);z-index:var(--z-toast);}
.overlay{position:fixed;inset:0;background:rgba(15,23,42,.45);backdrop-filter:blur(6px);display:flex;align-items:flex-end;justify-content:center;padding:.75rem;z-index:var(--z-overlay);}
.sheet{width:min(100%,680px);background:var(--surface);border-radius:20px 20px 12px 12px;padding:1rem;box-shadow:0 -6px 24px rgba(15,23,42,.12);}
.sheet header{font-weight:600;margin-bottom:.75rem;}
.sheet .sheet-option{width:100%;background:none;border:none;text-align:left;padding:.75rem .5rem;border-radius:var(--radius-sm);display:flex;justify-content:space-between;align-items:center;}
.sheet .sheet-option[aria-selected="true"]{background:rgba(148,163,184,.12);color:var(--brand-700);}
.list{list-style:none;margin:0;padding:0;}
.list li{display:flex;align-items:center;justify-content:space-between;padding:.85rem 0;border-bottom:1px solid rgba(148,163,184,.18);}
.list li:last-child{border-bottom:none;}
.list.chevron li::after{content:'>';font-size:1.1rem;color:rgba(107,114,128,.7);}
.loader{display:inline-flex;align-items:center;justify-content:center;width:100%;padding:1rem 0;}
.spinner{width:28px;height:28px;border-radius:50%;border:3px solid rgba(67,205,128,.2);border-top-color:var(--brand-700);animation:spin .8s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
.chip{display:inline-flex;align-items:center;gap:.25rem;padding:.35rem .6rem;border-radius:var(--radius-pill);background:rgba(67,205,128,.12);color:var(--brand-700);font-size:var(--font-size-xs);font-weight:600;}
.progress-steps{display:flex;gap:.5rem;align-items:center;margin:.5rem 0 1rem;}
.progress-steps .step{display:flex;align-items:center;gap:.35rem;font-size:var(--font-size-sm);}
.progress-steps .dot{width:18px;height:18px;border-radius:50%;display:grid;place-items:center;font-size:.7rem;font-weight:600;}
.product-card{background:var(--surface);border:1px solid rgba(148,163,184,.28);border-radius:var(--radius-md);overflow:hidden;display:flex;flex-direction:column;gap:.5rem;transition:transform .2s ease,box-shadow .2s ease;}
.product-card:hover{transform:translateY(-4px);box-shadow:0 14px 30px rgba(15,23,42,.12);}
.product-card .meta{padding:0 .85rem .85rem;}
.product-card .meta h3{font-size:var(--font-size-sm);margin:0 0 .25rem;}
.product-card .meta .price-line{display:flex;align-items:center;gap:.35rem;}
.empty-state{text-align:center;padding:2.5rem 1rem;color:var(--muted);}
.empty-state strong{display:block;color:var(--text-strong);margin-bottom:.5rem;}
.tag{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .6rem;border-radius:var(--radius-pill);background:rgba(148,163,184,.18);font-size:var(--font-size-xs);}
.badge-inline{padding:.15rem .5rem;border-radius:var(--radius-pill);font-size:var(--font-size-xs);background:rgba(67,205,128,.16);color:var(--brand-700);}
.summary-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:.35rem;font-size:var(--font-size-sm);}
.summary-row.total{font-weight:700;font-size:var(--font-size-base);}
.feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;}
.feature-card{padding:.85rem;border-radius:var(--radius-sm);border:1px solid rgba(148,163,184,.22);background:rgba(255,255,255,.88);}
.feature-card h3{margin:0 0 .35rem;font-size:var(--font-size-sm);}
.tracker{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.5rem;margin:1.25rem 0;}
.tracker-step{padding:.75rem;border-radius:var(--radius-sm);background:rgba(148,163,184,.12);text-align:center;font-size:var(--font-size-sm);font-weight:600;}
.tracker-step.active{background:rgba(67,205,128,.16);color:var(--brand-700);}
@media(min-width:640px){.product-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}
