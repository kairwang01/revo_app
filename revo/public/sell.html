<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#43CD80">
  <title>Trade-In Estimate - Revo</title>
  
  <link rel="stylesheet" href="./assets/css/tokens.css">
  <link rel="stylesheet" href="./assets/css/base.css">
  <link rel="stylesheet" href="./assets/css/layout.css">
  <link rel="stylesheet" href="./assets/css/components.css">
  <link rel="stylesheet" href="./assets/css/pages.css">
  
  <link rel="icon" type="image/svg+xml" href="./favicon.svg">
</head>
<body>
  <!-- sell zone, gadgets get new jobs -->
  <!-- Icon Sprite -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-home" viewBox="0 0 24 24">
      <path d="M3 11.2 12 4l9 7.2V21a1 1 0 0 1-1 1h-5.5v-6h-5v6H4a1 1 0 0 1-1-1z"/>
    </symbol>
    <symbol id="icon-star" viewBox="0 0 24 24">
      <path d="M12 3.3 14.9 9l6.1.5-4.6 3.9 1.4 6L12 16.8 6.2 19.4l1.4-6-4.6-3.9 6.1-.5z"/>
    </symbol>
    <symbol id="icon-user" viewBox="0 0 24 24">
      <path d="M12 3.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zM4.5 19.6c0-3.1 3.3-5 7.5-5s7.5 1.9 7.5 5V21H4.5z"/>
    </symbol>
    <symbol id="icon-plus" viewBox="0 0 24 24">
      <path d="M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"/>
    </symbol>
    <symbol id="icon-leaf" viewBox="0 0 24 24">
      <path d="M20.5 3.5S11 3 6.7 7.3C4.6 9.5 4 12.4 4 15.1 4 18 6 21 9.8 21c4.8 0 7-4.2 7-7.4 0-2.6-1.6-3.9-1.6-3.9s-1.4 2.2-4.3 3.1c-1.3.4-2.8.4-4 .3 0 0 1.4-.9 2.5-1.8 1.7-1.3 4.6-2.9 11.1-7.8z"/>
    </symbol>
  </svg>

  <!-- Header -->
  <header class="app-header">
    <div class="header-left">
      <a href="./index.html" class="icon-btn">
        <span style="font-size: 1.25rem;">‚Üê</span>
        <span class="sr-only">Back</span>
      </a>
    </div>
    <div class="header-center">
      <h1 style="font-size: 1rem; font-weight: 600;">Trade-In Estimate</h1>
    </div>
    <div class="header-right"></div>
  </header>

  <!-- Main Content -->
  <main class="page-wrapper">
    <div class="container">
      <div class="sell-form">
        <h2 style="margin-bottom: 1.5rem;">Get an instant estimate for your device</h2>
        
        <form id="trade-in-form">
          <!-- Brand Selection -->
          <div class="form-group">
            <label for="brand" class="form-label">Brand</label>
            <select id="brand" name="brand" class="form-select" required>
              <option value="">Loading brands...</option>
            </select>
          </div>

          <!-- Model Selection -->
          <div class="form-group">
            <label for="model" class="form-label">Model</label>
            <input
              id="model"
              name="model"
              class="form-input"
              type="text"
              placeholder="Start typing model name"
              autocomplete="off"
              list="model-options"
              required
              disabled
              aria-describedby="model-helper"
            >
            <datalist id="model-options"></datalist>
            <p class="text-muted" id="model-helper" style="font-size:0.875rem;margin-top:0.25rem;">
              Select a brand to see suggested models or type your device model.
            </p>
          </div>

          <!-- Storage -->
          <div class="form-group">
            <label for="storage" class="form-label">Storage</label>
            <select id="storage" name="storage" class="form-select" required>
              <option value="">Select storage</option>
              <option value="64GB">64GB</option>
              <option value="128GB">128GB</option>
              <option value="256GB">256GB</option>
              <option value="512GB">512GB</option>
              <option value="1TB">1TB</option>
            </select>
          </div>

          <!-- Condition -->
          <div class="form-group">
            <label for="condition" class="form-label">Condition</label>
            <select id="condition" name="condition" class="form-select" required>
              <option value="">Select condition</option>
              <option value="excellent">Excellent - Like new, no scratches</option>
              <option value="good">Good - Minor scratches, fully functional</option>
              <option value="fair">Fair - Visible wear, fully functional</option>
              <option value="poor">Poor - Heavy wear or minor issues</option>
            </select>
          </div>

          <!-- Additional Info -->
          <div class="form-group">
            <label for="notes" class="form-label">Additional Information (Optional)</label>
            <textarea 
              id="notes" 
              name="notes" 
              class="form-textarea" 
              placeholder="Any defects, missing accessories, etc."
              rows="3"
            ></textarea>
          </div>

          <!-- Photo Upload -->
          <div class="form-group">
            <label class="form-label">Device Photos (Optional)</label>
            <div class="image-upload" id="image-upload-area">
              <input type="file" id="photos" name="photos" accept="image/*" multiple>
              <div style="color: var(--muted);">
                <svg width="48" height="48" style="margin: 0 auto 1rem; display: block; opacity: 0.5;" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"/>
                </svg>
                <p>Click to upload photos</p>
                <p style="font-size: 0.875rem; margin-top: 0.5rem;">Up to 5 photos, max 5MB each</p>
              </div>
            </div>
            <div class="image-preview" id="image-preview"></div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary btn-full btn-lg" id="estimate-btn">
            Get Instant Estimate
          </button>
        </form>

        <!-- Estimate Result -->
        <div class="estimate-result hidden" id="estimate-result">
          <h3>Your Device Value</h3>
          <div class="estimate-amount" id="estimate-amount">$0.00 CAD</div>
          <div id="estimate-status" style="margin: 0.25rem 0 1rem; font-weight: 600;"></div>
          <p style="opacity: 0.9; margin-bottom: 2rem;">
            This estimate is based on the information you provided. 
            Final price may vary after device inspection.
          </p>
          <div style="display: flex; gap: 1rem;">
            <button class="btn btn-secondary btn-full" onclick="location.reload()">
              New Estimate
            </button>
            <button class="btn btn-primary btn-full" id="accept-offer-btn">
              Accept Offer
            </button>
          </div>
        </div>

        <!-- Info Section -->
        <div style="margin-top: 2rem; padding: 1.5rem; background: var(--surface-subtle); border-radius: var(--radius-md);">
          <h4 style="margin-bottom: 1rem;">How it works</h4>
          <ol style="padding-left: 1.25rem; color: var(--muted); font-size: 0.875rem; line-height: 1.8;">
            <li>Fill out the form with your device details</li>
            <li>Get an instant estimate</li>
            <li>Ship your device for free or drop it off at a Revo location</li>
            <li>We inspect and verify the condition</li>
            <li>Get paid via your Revo wallet or bank transfer</li>
          </ol>
        </div>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-tabbar">
    <a href="./index.html" class="tab-item">
      <svg><use href="#icon-home"></use></svg>
      <span>Home</span>
    </a>
    <a href="./products.html" class="tab-item">
      <svg><use href="#icon-star"></use></svg>
      <span>Curated</span>
    </a>
    <div class="tab-item" style="opacity: 0; pointer-events: none;"></div>
    <a href="./sell.html" class="tab-item active">
      <svg><use href="#icon-leaf"></use></svg>
      <span>Recycle</span>
    </a>
    <a href="./account.html" class="tab-item">
      <svg><use href="#icon-user"></use></svg>
      <span>Account</span>
    </a>
  </nav>

  <!-- FAB -->
  <a href="./sell.html" class="fab" title="Trade-In Estimate">
    <svg><use href="#icon-plus"></use></svg>
    <span class="sr-only">Trade-In</span>
  </a>

  <script src="./assets/js/storage.js"></script>
  <script src="./assets/js/config.js"></script>
  <script src="./assets/js/backendApi.js"></script>
  <script src="./assets/js/api.js"></script>
  <script src="./assets/js/ui.js"></script>
  <script src="./assets/js/pages/sell.js"></script>
</body>
</html>
